@{
    ViewBag.Title = "GetAll_MYSY_Applicant";
    Layout = "~/Views/Shared/_Layout.cshtml";
    if (UserSession.LoggedInUserLevelId == null || UserSession.LoggedInUserLevelId == "30")
    {
        Response.Redirect("../Login/login");
        return;
    }
}
@using System.Data;
@using DI.Models;
@using DI.DAL;
@using DI.BLL;
@{
    //var grid = new WebGrid(Model, rowsPerPage: 20);
    DataTable dt = new DataTable();
    dt = new CommonDA().GetMYSY_Applicant_DIC("A","",-1,"");
}
<link href="~/Content/timepicker/mdtimepicker.min.css" rel="stylesheet" />
<script src="~/Content/timepicker/mdtimepicker.min.js"></script>
<script>
  $(document).ready(function(){
    $('#timepicker').mdtimepicker(); //Initializes the time picker
  });
  
</script>
@using (Html.BeginForm("GetAll_MYSY_Applicant", "form", FormMethod.Post, new { @class = "", enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <div class="portlet box green">
        <div class="portlet-title red">
            <div class="caption">
                <i class="fa fa-globe"></i>मुख्यमंत्री युवा स्वरोजगार योजना, उ0प्र0 आवेदको की सूची
            </div>
            <div class="tools"> </div>
        </div>

        <div class="portlet-body">

            <table class="table table-striped table-bordered " id="Datatable">
                <thead>
                    <tr>
                        <th width="3%" style="text-align:center" >क्र० सं०<br />(1)</th>
                        <th width="10%" style="text-align:center">पंजीकरण संख्या <br />(2)</th>
                        <th width="5%" style="text-align:center">पंजीकरण तारीख <br />(3)</th>
                        <th width="10%" style="text-align:center">आवेदक <br />(4)</th>
                        <th width="10%" colspan="3" style="text-align:center">आवेदन विवरण <br />(5)</th>
                        <th width="10%" colspan="2" style="text-align:center">दस्तावेज़ <br />(6)</th>
                        <th width="10%" style="text-align:center">बैठक निर्धारण<br />(7)</th>
                        <th width="10%" style="text-align:center">आवेदन स्थिति<br />(8)</th>
                        <th width="10%" style="text-align:center">Action/View<br />(9)</th>
                    </tr>
                    <tr>
                        <th width="3%" ></th>
                        <th width="10%"></th>
                        <th width="5%"></th>
                        <th width="10%"></th>
                        <th width="10%" class="removesorting" style="cursor:none"> भाग-१ </th>
                        <th width="10%"  class="removesorting" style="cursor:none"> भाग-२ </th>
                        <th width="10%" class="removesorting" style="cursor:none" >संशोधन</th>
                        <th width="10%" class="removesorting" style="cursor:none" >अवलोकन </th>
                        <th width="10%" class="removesorting" style="cursor:none" >संशोधन</th>
                        <th width="10%" class="removesorting" style="cursor:none" ></th>
                        <th width="10%"></th>
                        <th width="10%" class="removesorting" style="cursor:none" ></th>
                    </tr>
                </thead>
                <tbody>
                    @if (dt != null)
                    {

                        if (dt.Rows.Count > 0)
                        {
                            for (int i = 0; i < dt.Rows.Count; i++)
                            {


                                <tr role="row" class="filter" style="@dt.Rows[i]["color"].ToString().Trim()">
                                    <td>@(i + 1)</td>
                                    <td>@dt.Rows[i]["user_name"].ToString().Trim()</td>
                                    <td>@dt.Rows[i]["entrydate"].ToString().Trim()</td>
                                    <td>@dt.Rows[i]["applicant_name"].ToString().Trim()</td>
                                    <td><a href="@Url.Action("MYSY_Application_Print","Form", new {Name =  new  DI.Crypto().Encrypt(dt.Rows[i]["user_name"].ToString().Trim()) })"><i class="icon-printer"></i></a>    </td>
                                   
                                    <td><a href="@Url.Action("MYSY_Plant_Machinery_print","Form", new {Name =  new  DI.Crypto().Encrypt(dt.Rows[i]["user_name"].ToString().Trim()) })"><i class="icon-printer"></i></a>    </td>
                                    <td>
@if (dt.Rows[i]["app_status"].ToString().Trim() == "O" || dt.Rows[i]["app_status"].ToString().Trim() == "U")
{
                                        <a href="@Url.Action("View_Applicant", "Form", new { name = new DI.Crypto().Encrypt(dt.Rows[i]["user_name"].ToString().Trim()), yojana = new DI.Crypto().Encrypt(dt.Rows[i]["scheme_code"].ToString().Trim()) })"><i class="icon-book-open"> </i></a>
}
else
{
        <i class="fa fa-times" style="color:red;"> </i>
}
                                    </td>
                                    <td><a href="@Url.Action("Uploadform","Form", new {Name =  new  DI.Crypto().Encrypt(dt.Rows[i]["user_name"].ToString().Trim()) , yojana=new  DI.Crypto().Encrypt(dt.Rows[i]["scheme_code"].ToString().Trim()),type="V" })"><i class="icon-docs"></i></a>   </td>
                                    <td>
                                    @if (dt.Rows[i]["app_status"].ToString().Trim() == "O" || dt.Rows[i]["app_status"].ToString().Trim() == "U")
                                    {
                                    <a href="@Url.Action("Uploadform", "Form", new { Name = new DI.Crypto().Encrypt(dt.Rows[i]["user_name"].ToString().Trim()), yojana = new DI.Crypto().Encrypt(dt.Rows[i]["scheme_code"].ToString().Trim()), type = "U" })"><i class="icon-docs"></i></a>

                                    }
                                    else
                                    {
                                        <i class="fa fa-times" style="color:red"> </i>
                                    }
                                    </td>
                                    
                                    <td>
@if (dt.Rows[i]["app_status"].ToString().Trim() == "O" || dt.Rows[i]["app_status"].ToString().Trim() == "U")
{
                                    <a style="cursor:pointer" onclick="myfunction('@dt.Rows[i]["user_name"].ToString().Trim()','@dt.Rows[i]["applicant_name"].ToString().Trim()','@dt.Rows[i]["entrydate"].ToString().Trim()','@dt.Rows[i]["email"].ToString().Trim()','@dt.Rows[i]["mobile"].ToString().Trim()','@dt.Rows[i]["registration_code"].ToString().Trim()','@dt.Rows[i]["IS_Meeting_Schedule"].ToString().Trim()')"><i class="icon-users">Meeting</i></a>
}
else
{
    <i class="fa fa-times" style="color:red;"> </i>
}


                                    </td>

                                    <td>@dt.Rows[i]["application_status"].ToString().Trim()</td>


                                    @if (dt.Rows[i]["app_status"].ToString().Trim() == "O" || dt.Rows[i]["app_status"].ToString().Trim() == "U")
                                    {
                                        /*app_status*/
                                        <td><a style="cursor:pointer" onclick="modal3('@dt.Rows[i]["user_name"].ToString().Trim()','@dt.Rows[i]["applicant_name"].ToString().Trim()','@dt.Rows[i]["entrydate"].ToString().Trim()','@dt.Rows[i]["email"].ToString().Trim()','@dt.Rows[i]["mobile"].ToString().Trim()','@dt.Rows[i]["registration_code"].ToString().Trim()','@dt.Rows[i]["scheme_code"].ToString().Trim()')">Action</a></td>
                                    }
                                    else
                                    {
                                        <td><a style="cursor:pointer" onclick="modal4('@dt.Rows[i]["registration_code"].ToString().Trim()','A')">View</a></td>
                                    }

                                </tr>
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" onclick="modalclose()">&times;</button>
                    <h3><i class="icon-paper-clip"></i>&nbsp;&nbsp;&nbsp;<label class=""> बैठक का निर्धारण   </label>  </h3>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">पंजीकरण संख्या</label>
                                    <div class="col-md-12">
                                        <span id="sp_app_id" class="form-control"></span>
                                        <input type="hidden" value="-1" id="hfregistration" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">आवेदक</label>
                                    <div class="col-md-12">
                                        <span id="sp_app_name" class="form-control"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">पंजीकरण तारीख</label>
                                    <div class="col-md-12">
                                        <span id="sp_app_date" class="form-control"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">ई-मेल आई0डी0</label>
                                    <div class="col-md-12">
                                        <span id="sp_app_email" class="form-control"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">मोबाइल नं0</label>
                                    <div class="col-md-12">
                                        <span id="sp_app_mobile" class="form-control"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    @*<label class="control-label col-md-12" id="lblname">पंजीकरण तारीख</label>
                                        <div class="col-md-12">
                                            <span id="sp_app_date"></span>
                                        </div>*@
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">नोडल अफसर का नाम</label>
                                    <div class="col-md-12">
                                        <input id="txtnodal" class="form-control" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">पद</label>
                                    <div class="col-md-12">
                                        <input id="txtdesignation" class="form-control" />
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">बैठक की तारीख</label>
                                    <div class="col-md-12">
                                        <input id="txtdate" class="form-control js-datemask" placeholder="dd/mm/yy" onkeypress="return IsNumeric(event);" maxlength="10" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">बैठक का समय</label>

                                    <div class="col-md-6">
                                        <input id="timepicker" class="form-control" placeholder="HH:mm" onkeypress="return IsNumeric(event);" maxlength="10" />
                                    </div>
                                    @*<div class="col-md-4">
                                        <input id="txtmin" class="form-control" placeholder="MM" onkeypress="return IsNumeric(event);" maxlength="2" />
                                    </div>
                                    <div class="col-md-4">
                                        <select id="ddlmeridian">
                                            <option>AM</option>
                                            <option>PM</option>
                                        </select>
                                    </div>*@
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">टिप्पणी</label>
                                    <div class="col-md-12">
                                        <textarea id="txtmeetRemark" cols="10" rows="6" class="tinymcetab" maxlength="650"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="SaveMeeting(-1,document.getElementById('hfregistration').value,'A','1')">Submit</button>
                    <button type="button" class="btn btn-primary" onclick="modal2(document.getElementById('hfregistration').value,'A')">View</button>
                    <button type="button" class="btn btn-danger" onclick="modalclose()">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="myModal2" class="modal fade" role="dialog" style="overflow:scroll">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content" id="divmeeting" style="overflow:scroll">

            </div>
        </div>
    </div>
    <div id="myModal3" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" onclick="modal3close()">&times;</button>
                    <h3><i class="icon-paper-clip"></i>&nbsp;&nbsp;&nbsp;<label class=""> आवेदन स्थिति  </label>  </h3>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">पंजीकरण संख्या</label>
                                    <div class="col-md-12">
                                        <span id="sp_app_id1" class="form-control"></span>
                                        <input type="hidden" id="hf_reg_code" value="-1" />
                                        <input type="hidden" id="hf_sch_code" value="-1" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">आवेदक</label>
                                    <div class="col-md-12">
                                        <span id="sp_app_name1" class="form-control"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">पंजीकरण तारीख</label>
                                    <div class="col-md-12">
                                        <span id="sp_app_date1" class="form-control"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">ई-मेल आई0डी0</label>
                                    <div class="col-md-12">
                                        <span id="sp_app_email1" class="form-control"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">मोबाइल नं0</label>
                                    <div class="col-md-12">
                                        <span id="sp_app_mobile1" class="form-control"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname"> स्थिति</label>
                                    <div class="col-md-12">
                                        <select id="ddlStatus" class="form-control">
                                            <option value="-1">Select</option>
                                            <option value="U">Under Process</option>
                                            <option value="RA">Reject by DIC</option>
                                            <option value="D">Transfer to DLTFC</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label col-md-12" id="lblname">टिप्पणी</label>
                                    <div class="col-md-12">
                                        <textarea id="txtagnRemark" cols="10" rows="6" class="tinymcetab" maxlength="650"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="Savestatus(document.getElementById('hf_reg_code').value,document.getElementById('hf_sch_code').value,'1')">Submit</button>
                    <button type="button" class="btn btn-primary" onclick="modal4(document.getElementById('hf_reg_code').value,'A')">View</button>
                    <button type="button" class="btn btn-danger" onclick="modal3close()">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="myModal4" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content" id="divstatus">
                @*<div class="modal-header"  >
                        <button type="button" class="close" onclick="modal4close()">&times;</button>
                        <h3><i class="icon-paper-clip"></i>&nbsp;&nbsp;&nbsp;<label class=""> विवरण </label>  </h3>
                    </div>
                    <div class="modal-body">
                        <form>

                            <table class="table table-striped table-bordered" id="Datatable2">
                                <thead>
                                    <tr>
                                        <th width="3%">क्र० सं०</th>
                                        <th width="10%">मिलने का समय</th>
                                        <th width="5%">नोडल अफसर का नाम</th>
                                        <th width="10%">पद</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td width="3%">क्र० सं०</td>
                                        <td width="10%">मिलने का समय</td>
                                        <td width="5%">नोडल अफसर का नाम</td>
                                        <td width="10%">पद</td>
                                    </tr>
                                </tbody>
                            </table>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" onclick="modal4close()">Close</button>
                    </div>*@
            </div>

        </div>
    </div>
    <script>
        window.onload = L;
        function L() {
            debugger;
            var table = $('#Datatable');
            var oTable = table.dataTable({
                // Internationalisation. For more info refer to http://datatables.net/manual/i18n
                "language": {
                    "aria": {
                        "sortAscending": ": activate to sort column ascending",
                        "sortDescending": ": activate to sort column descending"
                    },
                    "emptyTable": "No data available in table",
                    "info": "Showing _START_ to _END_ of _TOTAL_ entries",
                    "infoEmpty": "No entries found",
                    "infoFiltered": "(filtered1 from _MAX_ total entries)",
                    "lengthMenu": "_MENU_ entries",
                    "search": "Search:",
                    "zeroRecords": "No matching records found"
                },
                // Or you can use remote translation file
                //"language": {
                //   url: '//cdn.datatables.net/plug-ins/3cfcc339e89/i18n/Portuguese.json'
                //},
                buttons: [
                    //{ extend: 'print', className: 'btn dark' },
                    //{ extend: 'pdf', className: 'btn purple' },
                    //{ extend: 'excel', className: 'btn yellow ' },
                    //{ extend: 'colvis', className: 'btn red', text: 'Columns' }
                ],
                // setup responsive extension: http://datatables.net/extensions/responsive/
                responsive: true,
                //"ordering": false, disable column ordering
                //"paging": false, disable pagination
                "order": [
                    [0, 'asc']
                ],
                "lengthMenu": [
                    [5, 10, 15, 20, -1],
                    [5, 10, 15, 20, "All"] // change per page values here
                ],
                // set the initial value
                "pageLength": 10,

                "dom": "<'row' <'col-md-12'B>><'row'<'col-md-6 col-sm-12'l><'col-md-6 col-sm-12'f>r><'table-scrollable't><'row'<'col-md-5 col-sm-12'i><'col-md-7 col-sm-12'p>>", // horizobtal scrollable datatable

                // Uncomment below line("dom" parameter) to fix the dropdown overflow issue in the datatable cells. The default datatable layout
                // setup uses scrollable div(table-scrollable) with overflow:auto to enable vertical scroll(see: assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js).
                // So when dropdowns used the scrollable div should be removed.
                //"dom": "<'row' <'col-md-12'T>><'row'<'col-md-6 col-sm-12'l><'col-md-6 col-sm-12'f>r>t<'row'<'col-md-5 col-sm-12'i><'col-md-7 col-sm-12'p>>",
            });

            $('.removesorting').removeClass('sorting');
        }
        //function fn_removesorting() {
            
        //    $('#th1').removeClass('removesorting sorting');
        //    $('#th2').removeClass('removesorting sorting');
        //    $('#th3').removeClass('removesorting sorting');
        //    $('#th4').removeClass('removesorting sorting');
        //    $('#th5').removeClass('removesorting sorting');
        //    $('#th6').removeClass('removesorting sorting');
        //    $('#th1').removeClass('sorting');
        //    $('#th2').removeClass('sorting');
        //    $('#th3').removeClass('sorting');
        //    $('#th4').removeClass('sorting');
        //    $('#th5').removeClass('sorting');
        //    $('#th6').removeClass('sorting');
        //}
    </script>

    <script src="~/Content/tinymce/jquery.tinymce.min.js"></script>
    <script src="~/Content/tinymce/tinymce.min.js"></script>
                        <script>
                            function myfunction(username, name, date, email, mobile, registration, IS_Meeting_Schedule) {
                                if (IS_Meeting_Schedule == 'False') {
                                    $("#myModal").css("display", "block");
                                    $("#myModal").addClass("in");
                                    $("#sp_app_id").html(username);
                                    $("#sp_app_name").html(name);
                                    $("#sp_app_date").html(date);
                                    $("#sp_app_email").html(email);
                                    $("#sp_app_mobile").html(mobile);
                                    $("#hfregistration").val(registration);
                                }
                                else {
                                    modal2(registration, "A");
                                }
                            }

                            function createmeeting(username, name, date, email, mobile, registration, IS_Meeting_Schedule) {
                                if (IS_Meeting_Schedule == "0") {
                                    $("#myModal").css("display", "block");
                                    $("#myModal").addClass("in");
                                    $("#sp_app_id").html(username);
                                    $("#sp_app_name").html(name);
                                    $("#sp_app_date").html(date);
                                    $("#sp_app_email").html(email);
                                    $("#sp_app_mobile").html(mobile);
                                    $("#hfregistration").val(registration);
                                    $("#myModal2").css("display", "none");
                                    $("#myModal2").removeClass("in");
                                }

                            }

                            function modal2(registration_code, authority_level) {
                                $("#myModal2").css("display", "block");
                                $("#myModal2").addClass("in");
                                $.ajax({
                                    url: '/form/GetMeetingDate',
                                    data: JSON.stringify({ registration_code: registration_code, authority_level: authority_level }),
                                    type: 'POST',
                                    contentType: 'application/json; charset=utf-8',
                                    success: function (data) {
                                        $("#divmeeting").html(data);

                                    }
                                });

                            }
                            function modal3(username, name, date, email, mobile, hf_reg_code, hf_sch_code) {
                                $("#myModal3").css("display", "block");
                                $("#myModal3").addClass("in");
                                $("#sp_app_id1").html(username);
                                $("#sp_app_name1").html(name);
                                $("#sp_app_date1").html(date);
                                $("#sp_app_email1").html(email);
                                $("#sp_app_mobile1").html(mobile);
                                $("#hf_reg_code").val(hf_reg_code);
                                $("#hf_sch_code").val(hf_sch_code);



                            }
                            function modal4(registration_code, authority_level) {
                                $("#myModal4").css("display", "block");
                                $("#myModal4").addClass("in");


                                $.ajax({
                                    url: '/form/Getapplication_status',
                                    data: JSON.stringify({ registration_code: registration_code, authority_level: authority_level }),
                                    type: 'POST',
                                    contentType: 'application/json; charset=utf-8',
                                    success: function (data) {
                                        $("#divstatus").html(data);

                                    }
                                });





                            }
                            //Modal Close//
                            function modal2close() {
                                $("#myModal2").css("display", "none");
                                $("#myModal2").removeClass("in");
                            }
                            function modal3close() {
                                $("#myModal3").css("display", "none");
                                $("#myModal3").removeClass("in");
                            }
                            function modal4close() {
                                $("#myModal4").css("display", "none");
                                $("#myModal4").removeClass("in");
                            }
                            function modalclose() {
                                $("#myModal").css("display", "none");
                                $("#myModal").removeClass("in");
                            }
                            function modalcall(username, name, date, email, mobile, hf_reg_code, hf_sch_code) {
                                $("#myModal3").css("display", "block");
                                $("#myModal3").addClass("in");
                                $("#sp_app_id1").html(username);
                                $("#sp_app_name1").html(name);
                                $("#sp_app_date1").html(date);
                                $("#sp_app_email1").html(email);
                                $("#sp_app_mobile1").html(mobile);
                                $("#hf_reg_code").val(hf_reg_code);
                                $("#hf_sch_code").val(hf_sch_code);
                                $("#myModal4").css("display", "none");
                                $("#myModal4").removeClass("in");


                            }

                            $(document).ready(function () {
                                $(".tinymcetab").tinymce({
                                    theme: "modern",
                                    element_format: "html",
                                    entity_encoding: "raw",
                                    //plugins: ['advlist autolink lists link image charmap print preview hr anchor pagebreak', 'searchreplace wordcount visualblocks visualchars code fullscreen', 'insertdatetime media nonbreaking save table contextmenu directionality', 'emoticons template paste textcolor colorpicker textpattern imagetools codesample toc'],
                                    //toolbar1: 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',
                                    //toolbar2: 'print preview media | forecolor backcolor emoticons | codesample',
                                    plugins: ['advlist lists preview', 'code fullscreen', 'paste textpattern codesample toc'],
                                    toolbar1: 'undo redo | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | preview | codesample',
                                    schema: "html5",
                                    valid_children: "+a[div]"
                                });
                            });
                            function SaveMeeting(meeting_id, registration_code, status, sptype) {
                                if (document.getElementById("txtdate").value == "") {
                                    alert("enter date");
                                    document.getElementById("txtdate").focus();
                                    return;
                                }
                                if (document.getElementById("timepicker").value == "") {
                                    alert("enter hours");
                                    document.getElementById("timepicker").focus();
                                    return;
                                }
                                //if (document.getElementById("txtmin").value == "") {
                                //    alert("enter min");
                                //    document.getElementById("txtmin").focus();
                                //    return;
                                //}
                                if (document.getElementById("txtnodal").value == "") {
                                    alert("enter Officer Name");
                                    document.getElementById("txtnodal").focus();
                                    return;
                                }
                                var remark2 = window.parent.tinymce.get('txtmeetRemark').getContent();
                                if (remark2 == null || remark2 == "")
                                { 
                                    alert("Please enter remark");
                                    return;
                                }
                                var mysy = {
                                    "meeting_id": meeting_id,
                                    "registration_code": registration_code,
                                    "inputdate": document.getElementById("txtdate").value,
                                    "meeting_time": document.getElementById("timepicker").value,
                                   // "meeting_meridian": document.getElementById("ddlmeridian").value,
                                    "status": status,
                                    "officer_name": document.getElementById("txtnodal").value,
                                    "designation": document.getElementById("txtdesignation").value == "" ? " " : document.getElementById("txtdesignation").value,
                                    "meeting_level": "A",
                                    "remark": window.parent.tinymce.get('txtmeetRemark').getContent()
                                }
                                $.ajax({
                                    url: '/form/InsertUpdateMeeting',
                                    data: JSON.stringify({ mysy: mysy, sptype: sptype }),
                                    type: 'POST',
                                    contentType: 'application/json; charset=utf-8',
                                    success: function (data) {
                                        alert(data);
                                        document.getElementById("txtdate").value = "";
                                        document.getElementById("timepicker").value = "";
                                      //  document.getElementById("txtmin").value = "";
                                        document.getElementById("txtnodal").value = "";
                                        document.getElementById("txtdesignation").value = "";
                                      //  window.parent.tinymce.get('txtmeetRemark').getContent() = "";
                                        modal2(registration_code, 'A');
                                        modalclose();
                                        //$("#myModal2").css("display", "block");
                                        //$("#myModal2").addClass("in");

                                       // $("#myModal").css("display", "none");
                                        //$("#myModal").removeClass("in");

                                    }
                                });
                            }

                            function CancelMeeting(meeting_id, registration_code, status, sptype) {
                                var mysy = {
                                    "meeting_id": meeting_id,
                                    "registration_code": registration_code,
                                    "inputdate": "01/01/1900",
                                    "meeting_time": " ",
                                   // "meeting_meridian": " ",
                                    "status": "C",
                                    "officer_name": " ",
                                    "designation": " ",
                                    "meeting_level": " ",
                                    "remark": " "
                                }
                                $.ajax({
                                    url: '/form/InsertUpdateMeeting',
                                    data: JSON.stringify({ mysy: mysy, sptype: sptype }),
                                    type: 'POST',
                                    contentType: 'application/json; charset=utf-8',
                                    success: function (data) {
                                        alert(data);
                                        $("#divmeeting").html('');
                                        $.ajax({
                                            url: '/form/GetMeetingDate',
                                            data: JSON.stringify({ registration_code: registration_code, authority_level: 'A' }),
                                            type: 'POST',
                                            contentType: 'application/json; charset=utf-8',
                                            success: function (data) {
                                                $("#divmeeting").html(data);

                                            }
                                        });





                                    }
                                });
                            }


                            function Savestatus(registration_code, scheme_code, sptype)
                            {
                                var remark = window.parent.tinymce.get('txtagnRemark').getContent();
                                if (document.getElementById("ddlStatus").value == "-1") {
                                    alert("select status");
                                    document.getElementById("ddlStatus").focus();
                                    return;
                                }
                                if (document.getElementById("ddlStatus").value == "RA") {

                                    if (remark == null || remark == "")
                                    {
                                        alert("enter remarks");
                                        window.parent.tinymce.get('txtagnRemark').focus();
                                        return;
                                    }

                                }
                                
                                var mysy = {
                                    "registration_code": registration_code,
                                    "scheme_code": scheme_code,
                                    "status": document.getElementById('ddlStatus').value,
                                    "remark": remark == "" ? " " : remark
                                }
                                $.ajax({
                                    url: '/form/InsertUpdate_mysy_status',
                                    data: JSON.stringify({ mysy: mysy, sptype: sptype, authority: 'A' }),
                                    type: 'POST',
                                    contentType: 'application/json; charset=utf-8',
                                    success: function (data) {
                                        alert(data);
                                        location.reload();
                                    }
                                });
                            }
                            var specialKeys = new Array();
                            specialKeys.push(47); // for Forward Slash(/)
                            specialKeys.push(8); //Backspace
                            specialKeys.push(9); // Tab
                            specialKeys.push(46); // for .
                            specialKeys.push(37); // for left Arrow
                            //specialKeys.push(39); // for Right Arrow
                            function IsNumeric(e) {
                                var keyCode = e.which ? e.which : e.keyCode
                                var ret = ((keyCode >= 48 && keyCode <= 57) || specialKeys.indexOf(keyCode) != -1); // For Decimal To All Number
                                if (ret == false) {
                                    alert("Only numaric value allwed.");
                                }
                                return ret;
                            }
                            $(document).ready(function () {

                                $("#txtdate").datepicker({

                                    dateFormat: "dd/mm/yy",
                                    changeMonth: true,
                                    changeYear: true,
                                    minDate:'0d'
                                });
                            });
                        </script>
}

